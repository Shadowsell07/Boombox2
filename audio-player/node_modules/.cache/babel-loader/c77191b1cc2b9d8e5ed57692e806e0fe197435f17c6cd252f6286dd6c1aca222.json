{"ast":null,"code":"var _jsxFileName = \"/workspaces/Boombox2/audio-player/src/components/Boombox/Boombox.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { AudioService } from '../../services/AudioService';\nimport './Boombox.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Boombox = ({\n  audioFiles\n}) => {\n  _s();\n  var _audioFiles$currentTr;\n  const [currentTrack, setCurrentTrack] = useState(0);\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [volume, setVolume] = useState(0.5);\n  const audioService = useRef(new AudioService());\n  const animationFrame = useRef(undefined);\n  useEffect(() => {\n    // Load initial track\n    audioService.current.loadTrack(audioFiles[currentTrack].url);\n    audioService.current.setVolume(volume);\n    return () => {\n      if (animationFrame.current) {\n        cancelAnimationFrame(animationFrame.current);\n      }\n    };\n  }, []);\n  useEffect(() => {\n    audioService.current.loadTrack(audioFiles[currentTrack].url);\n    if (isPlaying) {\n      audioService.current.play();\n    }\n  }, [currentTrack]);\n  const handlePlayPause = async () => {\n    if (isPlaying) {\n      audioService.current.pause();\n    } else {\n      await audioService.current.play();\n    }\n    setIsPlaying(!isPlaying);\n  };\n  const handlePrevTrack = () => {\n    setCurrentTrack(prev => prev > 0 ? prev - 1 : audioFiles.length - 1);\n  };\n  const handleNextTrack = () => {\n    setCurrentTrack(prev => prev < audioFiles.length - 1 ? prev + 1 : 0);\n  };\n\n  // Add volume control\n  const handleVolumeChange = newVolume => {\n    setVolume(newVolume);\n    audioService.current.setVolume(newVolume);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"boombox-container\",\n    children: /*#__PURE__*/_jsxDEV(\"svg\", {\n      width: \"800\",\n      height: \"400\",\n      viewBox: \"0 0 800 400\",\n      children: [/*#__PURE__*/_jsxDEV(\"rect\", {\n        className: \"boombox-body\",\n        x: \"50\",\n        y: \"50\",\n        width: \"700\",\n        height: \"300\",\n        rx: \"20\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n        className: \"speaker left\",\n        cx: \"200\",\n        cy: \"200\",\n        r: \"80\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n        className: \"speaker right\",\n        cx: \"600\",\n        cy: \"200\",\n        r: \"80\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"rect\", {\n        className: \"display\",\n        x: \"300\",\n        y: \"100\",\n        width: \"200\",\n        height: \"50\",\n        rx: \"5\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n        x: \"400\",\n        y: \"130\",\n        textAnchor: \"middle\",\n        className: \"display-text\",\n        children: ((_audioFiles$currentTr = audioFiles[currentTrack]) === null || _audioFiles$currentTr === void 0 ? void 0 : _audioFiles$currentTr.title) || 'No track selected'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"g\", {\n        className: \"controls-group\",\n        transform: \"translate(300, 170)\",\n        children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n          className: \"control-button\",\n          cx: \"50\",\n          cy: \"50\",\n          r: \"20\",\n          onClick: handlePrevTrack\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n          x: \"50\",\n          y: \"55\",\n          textAnchor: \"middle\",\n          children: \"\\u23EE\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n          className: \"control-button\",\n          cx: \"100\",\n          cy: \"50\",\n          r: \"20\",\n          onClick: handlePlayPause\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n          x: \"100\",\n          y: \"55\",\n          textAnchor: \"middle\",\n          children: isPlaying ? '⏸' : '▶'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n          className: \"control-button\",\n          cx: \"150\",\n          cy: \"50\",\n          r: \"20\",\n          onClick: handleNextTrack\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n          x: \"150\",\n          y: \"55\",\n          textAnchor: \"middle\",\n          children: \"\\u23ED\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 5\n  }, this);\n};\n_s(Boombox, \"afyp2I5HnUlt7VxAtBastCIB6Nk=\");\n_c = Boombox;\nvar _c;\n$RefreshReg$(_c, \"Boombox\");","map":{"version":3,"names":["React","useState","useEffect","useRef","AudioService","jsxDEV","_jsxDEV","Boombox","audioFiles","_s","_audioFiles$currentTr","currentTrack","setCurrentTrack","isPlaying","setIsPlaying","volume","setVolume","audioService","animationFrame","undefined","current","loadTrack","url","cancelAnimationFrame","play","handlePlayPause","pause","handlePrevTrack","prev","length","handleNextTrack","handleVolumeChange","newVolume","className","children","width","height","viewBox","x","y","rx","fileName","_jsxFileName","lineNumber","columnNumber","cx","cy","r","textAnchor","title","transform","onClick","_c","$RefreshReg$"],"sources":["/workspaces/Boombox2/audio-player/src/components/Boombox/Boombox.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { AudioService } from '../../services/AudioService';\nimport './Boombox.css';\n\ninterface BoomboxProps {\n  audioFiles: {\n    title: string;\n    url: string;\n  }[];\n}\n\nexport const Boombox: React.FC<BoomboxProps> = ({ audioFiles }: BoomboxProps) => {\n  const [currentTrack, setCurrentTrack] = useState(0);\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [volume, setVolume] = useState(0.5);\n  const audioService = useRef(new AudioService());\n  const animationFrame = useRef<number | undefined>(undefined);\n\n  useEffect(() => {\n    // Load initial track\n    audioService.current.loadTrack(audioFiles[currentTrack].url);\n    audioService.current.setVolume(volume);\n\n    return () => {\n      if (animationFrame.current) {\n        cancelAnimationFrame(animationFrame.current);\n      }\n    };\n  }, []);\n\n  useEffect(() => {\n    audioService.current.loadTrack(audioFiles[currentTrack].url);\n    if (isPlaying) {\n      audioService.current.play();\n    }\n  }, [currentTrack]);\n\n  const handlePlayPause = async () => {\n    if (isPlaying) {\n      audioService.current.pause();\n    } else {\n      await audioService.current.play();\n    }\n    setIsPlaying(!isPlaying);\n  };\n\n  const handlePrevTrack = () => {\n    setCurrentTrack(prev => (prev > 0 ? prev - 1 : audioFiles.length - 1));\n  };\n\n  const handleNextTrack = () => {\n    setCurrentTrack(prev => (prev < audioFiles.length - 1 ? prev + 1 : 0));\n  };\n\n  // Add volume control\n  const handleVolumeChange = (newVolume: number) => {\n    setVolume(newVolume);\n    audioService.current.setVolume(newVolume);\n  };\n\n  return (\n    <div className=\"boombox-container\">\n      <svg width=\"800\" height=\"400\" viewBox=\"0 0 800 400\">\n        {/* Main body */}\n        <rect className=\"boombox-body\" x=\"50\" y=\"50\" width=\"700\" height=\"300\" rx=\"20\" />\n        \n        {/* Speakers */}\n        <circle className=\"speaker left\" cx=\"200\" cy=\"200\" r=\"80\" />\n        <circle className=\"speaker right\" cx=\"600\" cy=\"200\" r=\"80\" />\n        \n        {/* Display panel */}\n        <rect className=\"display\" x=\"300\" y=\"100\" width=\"200\" height=\"50\" rx=\"5\" />\n        <text \n          x=\"400\" \n          y=\"130\" \n          textAnchor=\"middle\" \n          className=\"display-text\"\n        >\n          {audioFiles[currentTrack]?.title || 'No track selected'}\n        </text>\n        \n        {/* Controls panel */}\n        <g className=\"controls-group\" transform=\"translate(300, 170)\">\n          {/* Previous button */}\n          <circle \n            className=\"control-button\" \n            cx=\"50\" \n            cy=\"50\" \n            r=\"20\" \n            onClick={handlePrevTrack}\n          />\n          <text x=\"50\" y=\"55\" textAnchor=\"middle\">⏮</text>\n          \n          {/* Play/Pause button */}\n          <circle \n            className=\"control-button\" \n            cx=\"100\" \n            cy=\"50\" \n            r=\"20\" \n            onClick={handlePlayPause}\n          />\n          <text x=\"100\" y=\"55\" textAnchor=\"middle\">{isPlaying ? '⏸' : '▶'}</text>\n          \n          {/* Next button */}\n          <circle \n            className=\"control-button\" \n            cx=\"150\" \n            cy=\"50\" \n            r=\"20\" \n            onClick={handleNextTrack}\n          />\n          <text x=\"150\" y=\"55\" textAnchor=\"middle\">⏭</text>\n        </g>\n      </svg>\n    </div>\n  );\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}